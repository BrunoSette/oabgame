function setConfig(e){$("#nome").val(e.nome);$("#localizacao").val(e.localizacao);$("#aniversario").val(e.aniversario);$("#email").val(e.email);if(parseInt(e.lembretes))$("#notificacoes").prop("checked",true);else $("#notificacoes").prop("checked",false)}function doUpdate(){var e=false;var t=$("#nome");if(t.val()==""){t.addClass("erro");e=true}var n=$("#email");if(n.val()==""){n.addClass("erro");e=true}var r=$("#nova-senha");var i=$("#confirm-nova-senha");if(r.val()!=i.val()){if(r.val()!=i.val()){r.addClass("erro");i.addClass("erro");$(".control-group").last().append('<span style="color: #e74c3c;"> As senhas n√£o conferem</span>')}e=true}if(!e){var s={nome:t.val(),localizacao:$("#localizacao").val(),aniversario:$("#aniversario").val(),email:n.val(),nova_senha:r.val(),notificacoes:$("#notificacoes").is(":checked")};$.ajax({type:"post",url:rootUrl+"/Usuario/update",data:JSON.stringify(s),dataType:"json",success:function(e){console.info(e)},error:function(e){console.info(e)}})}else $("html, body").animate({scrollTop:0},1e3)}$(document).ready(function(){$.ajax({type:"get",url:rootUrl+"/Usuario/profile",dataType:"json",success:function(e){setConfig(e.result)},error:function(e){console.info(e)}});$("#atualizar").bind("click",function(){doUpdate()})})